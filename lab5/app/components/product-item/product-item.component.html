<div class="card">

  <!-- Image Gallery -->
  <div class="img-wrap">
    <button class="arrow prev" (click)="prevImage()">â—€</button>
    <img [src]="product.images[currentImageIndex]" [alt]="product.name" class="main-img" />
    <button class="arrow next" (click)="nextImage()">â–¶</button>

    <div class="dots">
      <button
        *ngFor="let img of product.images; let i = index"
        class="dot"
        [class.active]="i === currentImageIndex"
        (click)="setImage(i)">
      </button>
    </div>
  </div>

  <!-- Details -->
  <div class="card-body">
    <h3 class="card-name">{{ product.name }}</h3>
    <p class="card-desc">{{ product.description }}</p>
    <p class="card-price">{{ product.price | number }} â‚¸</p>
    <p class="card-rating">â­ {{ product.rating }}</p>

    <!-- Actions -->
    <div class="card-actions">
      <button class="btn btn-like" [class.liked]="product.likes > 0" (click)="like()">
        â¤ {{ product.likes }}
      </button>
      <button class="btn btn-delete" (click)="requestDelete()">ğŸ—‘ï¸ Delete</button>
      <a class="btn btn-kaspi" [href]="product.link" target="_blank">ğŸ›’ Kaspi</a>
      <button class="btn btn-wa"  (click)="shareWhatsApp()">ğŸ’¬ WhatsApp</button>
      <button class="btn btn-tg"  (click)="shareTelegram()">âœˆï¸ Telegram</button>
    </div>
  </div>

  <!-- Confirm delete overlay -->
  <div *ngIf="showConfirm" class="confirm-overlay">
    <div class="confirm-box">
      <p>Remove <strong>{{ product.name }}</strong>?</p>
      <div class="confirm-btns">
        <button class="btn btn-cancel"  (click)="cancelDelete()">Cancel</button>
        <button class="btn btn-confirm" (click)="confirmDelete()">Delete</button>
      </div>
    </div>
  </div>

</div>
